(function(a){a.fn.busyBox=function(){return a.fn.busyBox.self=this,arguments[0]=="open"?a.fn.busyBox.open():arguments[0]=="close"?a.fn.busyBox.close():a.fn.busyBox.init(arguments[0]),this},a.fn.busyBox.init=function(b){a.fn.busyBox.opts=a.extend({},a.fn.busyBox.defaults,b),a.fn.busyBox.opts.classes.indexOf(a.fn.busyBox.defaults.classes)===-1&&(a.fn.busyBox.opts.classes+=" "+a.fn.busyBox.defaults.classes),a.fn.busyBox.container=a(document.body),a.fn.busyBox.opts.autoOpen&&a.fn.busyBox.open()},a.fn.busyBox.open=function(){var b,c,d,e,f,g,h,i;a.fn.busyBox.self.each(function(j){d=a(this),f=d.outerWidth(),g=d.outerHeight(),e=d.offset(),b=a("<div />"),b.attr("id","busybox_"+j),b.addClass(a.fn.busyBox.opts.classes),b.css({width:f,height:g,top:e.top,left:-9999}),c=a(a.fn.busyBox.opts.spinner),c.attr("id","busybox_spinner_"+j),c.addClass("busybox-spinner"),b.append(c),a.fn.busyBox.container.append(b),h=a.fn.busyBox.opts.top=="auto"?g/2-c.outerHeight()/2+"px":a.fn.busyBox.opts.top,i=a.fn.busyBox.opts.left=="auto"?f/2-c.outerWidth()/2+"px":a.fn.busyBox.opts.left,c.css({position:"absolute",top:h,left:i,opacity:1}),b.css({display:"none",left:e.left})}),a.fn.busyBox.container.find("."+a.fn.busyBox.defaults.classes).fadeIn("fast",a.fn.busyBox.opts.displayed.call(this))},a.fn.busyBox.close=function(){a.fn.busyBox.container&&a.fn.busyBox.container.find("."+a.fn.busyBox.defaults.classes).fadeOut("fast",function(){a(this).remove()})},a.fn.busyBox.defaults={autoOpen:!0,spinner:"<em>Cargando&#8230;</em>",classes:"busybox",top:"auto",left:"auto",displayed:function(){}}})(jQuery)