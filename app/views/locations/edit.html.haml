.block_head
  %h2
    = @location.name
    = link_to "Previous POI", params.merge(:action => "previous"), :class => "navigate-poi"
    = link_to "Next POI", params.merge(:action => "next"), :class => "navigate-poi"
.block_content
  .editor-content{:"data-id" => @location.id, :"data-name" => @location.name, :"data-longitude" => @location.longitude, :"data-latitude" => @location.latitude}
    %ul#tabs
      %li= link_to "Geography", "#geography"
      %li= link_to "Logo", "#logo"
      %li= link_to "Photos", "#photos"
      %li= link_to "Comments", "#comments"
      %li= link_to "Info", "#info"
      %li= link_to "History", "#history"
      %br
    #geography.tab
      = render :partial => "locations/portlets/coordinates", :locals => {:location => @location}
    #logo.tab
      = render :partial => "locations/portlets/logos", :locals => {:location => @location}
    #photos.tab
      = render :partial => "locations/portlets/photos", :locals => {:location => @location}
    #comments.tab
      = render :partial => "locations/portlets/comments", :locals => {:location => @location, :comments => @comments}
    #info.tab
      = render :partial => "locations/portlets/information"
    #history.tab
      = render :partial => "locations/portlets/history", :locals => {:location => @location}
    .clear

:javascript
  $(function() {
    var location_id = $(".editor-content").data("id");
    $(".tab:not(:first)").hide();
    $("#tabs a").click(function() {
      var ref = $(this).attr("href").split('#')[1];
      $(".tab:not(#" + ref + ")").hide();
      $("#" + ref).show();
      return false;
    })
    $(".navigate-poi").click(function() {
      $.get($(this).attr("href"), function(html) {
        $("#facebox .content").html(html);
      })
      return false;
    })
  });

:css
  #tabs li { float: left; margin-right: 10px}